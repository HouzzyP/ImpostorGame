<!DOCTYPE html>
<html lang="es" data-theme="dark">

<head>
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-T4K7JHXH');</script>
    <!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Impostor Online - Juego del Mentiroso Gratis | Sin Descargas</title>
    <meta name="description"
        content="Jugar al Impostor Online GRATIS. Juego de deducción social tipo Spyfall o Among Us con palabras. Multijugador sin descarga, perfecto para videollamadas con amigos. Descubre al mentiroso antes de que sea tarde.">
    <meta name="keywords"
        content="jugar al impostor online, el impostor juego online gratis, juego del mentiroso online, spyfall español online, juego de palabras con amigos, juego de deduccion social, among us con palabras, juego impostor navegador, juego multijugador sin descarga, party game online español, juego para videollamada, juego de rol social online, juego del impostor gratis, mentiroso juego online, juego detective online, juego social multijugador">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://elimpostormp.com/">

    <!-- Open Graph / Facebook / WhatsApp -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://elimpostormp.com/">
    <meta property="og:title" content="🕵️ El Impostor Online - Juego del Mentiroso Gratis">
    <meta property="og:description"
        content="Juega GRATIS con amigos. Juego de deducción social sin descargas. Describe la palabra secreta, vota para eliminar al impostor. ¡Perfecto para videollamadas!">
    <meta property="og:image" content="https://elimpostormp.com/icon.webp">
    <meta property="og:image:alt"
        content="El Impostor Online - Juego del Mentiroso Multijugador - Ícono del juego de deducción social">
    <meta property="og:image:type" content="image/webp">
    <meta property="og:image:width" content="512">
    <meta property="og:image:height" content="512">
    <meta property="og:locale" content="es_ES">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://elimpostormp.com/">
    <meta property="twitter:title" content="🕵️ El Impostor Online - Juego del Mentiroso Gratis">
    <meta property="twitter:description"
        content="Juego de deducción social tipo Spyfall. Multijugador sin descarga, perfecto para videollamadas. ¿Podrás descubrir al mentiroso?">
    <meta property="twitter:image" content="https://elimpostormp.com/icon.webp">
    <meta property="twitter:image:alt"
        content="El Impostor Online - Juego de deducción social multijugador tipo Spyfall en español">

    <!-- PWA Config -->
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icon.webp">
    <link rel="icon" type="image/webp" href="/icon.webp">
    <meta name="theme-color" content="#121212">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" as="style"
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"
        media="print" onload="this.media='all'">
    <noscript>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    </noscript>
    <link rel="stylesheet" href="styles.css">

    <!-- Google AdSense - Descomentar cuando tengas tu ID de publicador -->
    <!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX" crossorigin="anonymous"></script> -->

    <script src="/socket.io/socket.io.js" defer></script>

    <!-- Structured Data (JSON-LD) for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "El Impostor Online - Juego del Mentiroso",
      "alternateName": ["Spyfall Español", "Juego del Mentiroso Online", "El Impostor Multijugador"],
      "applicationCategory": "GameApplication",
      "operatingSystem": "Any",
      "browserRequirements": "Requires JavaScript. Requires HTML5.",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD",
        "availability": "https://schema.org/InStock"
      },
      "description": "Juega al Impostor online gratis. Juego de deducción social multijugador tipo Spyfall o Among Us con palabras. Sin descargas, perfecto para videollamadas con amigos. Describe la palabra secreta sin revelarla y vota para eliminar al mentiroso.",
      "genre": ["Party Game", "Social Deduction", "Multiplayer", "Word Game"],
      "inLanguage": "es-ES",
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "150",
        "bestRating": "5",
        "worstRating": "1"
      },
      "gamePlatform": ["Web Browser", "Mobile Web", "Desktop Web"],
      "numberOfPlayers": {
        "@type": "QuantitativeValue",
        "minValue": 3,
        "maxValue": 20
      }
    }
    </script>

    <!-- FAQ Rich Snippets for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "¿Los impostores se conocen entre sí en El Impostor Online?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No, si hay más de un impostor en la partida, no saben quiénes son sus compañeros. Cada impostor juega por su cuenta intentando descubrir la palabra secreta."
          }
        },
        {
          "@type": "Question",
          "name": "¿Qué pasa si me desconecto durante una partida?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Puedes volver a entrar a la sala con el mismo nombre y recuperarás tu rol automáticamente. Tienes 45 segundos para reconectarte antes de que se cancele la partida."
          }
        },
        {
          "@type": "Question",
          "name": "¿Cómo gano puntos en El Impostor?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Ganas puntos ganando partidas y votando correctamente para eliminar al impostor. Si eres impostor, ganas descubriendo la palabra secreta sin ser eliminado."
          }
        },
        {
          "@type": "Question",
          "name": "¿Cuántos jugadores se necesitan para jugar?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "El Impostor Online requiere un mínimo de 3 jugadores para comenzar, aunque lo ideal es jugar con 4 o más. El juego soporta hasta 20 jugadores simultáneos."
          }
        },
        {
          "@type": "Question",
          "name": "¿Es gratis jugar al Impostor Online?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Sí, El Impostor Online es completamente gratis. No requiere descargas, instalación ni registro. Solo necesitas un navegador web para jugar con tus amigos."
          }
        },
        {
          "@type": "Question",
          "name": "¿Necesito descargar algo para jugar?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No, El Impostor es un juego web que funciona directamente en tu navegador. No necesitas descargar ninguna aplicación ni instalar nada. Funciona en computadoras, tablets y celulares."
          }
        }
      ]
    }
    </script>

    <!-- WebSite Structured Data for Search Box -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "El Impostor Online",
      "alternateName": "Juego del Mentiroso Online",
      "url": "https://elimpostormp.com/",
      "description": "Juego de deducción social multijugador gratis tipo Spyfall. Juega con amigos sin descargas.",
      "inLanguage": "es-ES",
      "publisher": {
        "@type": "Organization",
        "name": "El Impostor Online",
        "logo": {
          "@type": "ImageObject",
          "url": "https://elimpostormp.com/icon.webp",
          "width": 512,
          "height": 512
        }
      }
    }
    </script>

    <!-- Organization Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "VideoGame",
      "name": "El Impostor Online",
      "url": "https://elimpostormp.com/",
      "image": "https://elimpostormp.com/icon.webp",
      "description": "Juego de deducción social multijugador online tipo Spyfall. Descubre al impostor describiendo palabras secretas.",
      "genre": ["Party Game", "Social Deduction", "Multiplayer"],
      "playMode": "MultiPlayer",
      "gamePlatform": "Web Browser",
      "numberOfPlayers": {
        "@type": "QuantitativeValue",
        "minValue": 3,
        "maxValue": 20
      },
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD",
        "availability": "https://schema.org/InStock"
      }
    }
    </script>
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T4K7JHXH" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="app">
        <header>
            <h1 class="logo"><a href="/" style="text-decoration: none; color: inherit;">El Impostor</a></h1>
            <div class="header-actions">
                <button id="langBtn" class="theme-btn" title="Switch Language">🇺🇸</button>
                <div class="dropdown">
                    <button class="theme-btn" id="helpBtn" title="Ayuda y Reglas" data-i18n-title="nav.help">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                    </button>
                    <div class="dropdown-content" id="helpDropdown">
                        <a href="/como-jugar" class="nav-link" data-i18n="nav.howto">Cómo Jugar</a>
                        <a href="/reglas" class="nav-link" data-i18n="nav.rules">Reglas</a>
                        <a href="/faq" class="nav-link" data-i18n="nav.faq">FAQ</a>
                    </div>
                </div>

                <button id="myStatsBtn" class="theme-btn" onclick="showLocalStats()" title="Mis Estadísticas"
                    data-i18n-title="stats.title" style="margin-right: 10px;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <!-- Trophy icon -->
                        <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
                        <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
                        <path d="M4 22h16"></path>
                        <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
                        <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
                        <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
                    </svg>
                </button>
                <button class="theme-btn" onclick="toggleTheme()" title="Cambiar tema" data-i18n-title="theme.toggle">
                    <svg class="icon-sun" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                    </svg>
                    <svg class="icon-moon" style="display:none" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                    </svg>
                </button>
                <button id="chatToggleBtn" class="theme-btn" onclick="toggleChat()" title="Abrir Chat"
                    data-i18n-title="chat.open" style="display: none; margin-left: 10px;">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                    </svg>
                </button>
        </header>

        <main>
            <div class="container">

                <!-- HOME SCREEN -->
                <div id="homeScreen" class="screen active">
                    <h2 class="hero-title" data-i18n="hero.title">El Impostor Online - Juego del Mentiroso Gratis</h2>
                    <p class="subtitle" data-i18n="hero.subtitle">Juego de deducción social tipo <strong>Spyfall en
                            Español</strong>.
                        Multijugador sin descargas, perfecto para videollamadas.
                        <br>🔍 ¿Podrás descubrir al mentiroso?
                    </p>
                    <div class="input-group">
                        <label data-i18n="label.name">Tu nombre</label>
                        <input type="text" id="playerNameInput" placeholder="Ingresa tu nombre"
                            data-i18n="placeholder.name" maxlength="15" autocomplete="off">
                    </div>
                    <button class="btn btn-primary" onclick="createRoom()" data-i18n="btn.create">Crear sala</button>
                    <div class="btn-row">
                        <button class="btn btn-secondary" onclick="showJoinScreen()" data-i18n="btn.join">Unirse a
                            sala</button>
                    </div>
                </div>

                <!-- JOIN SCREEN -->
                <div id="joinScreen" class="screen">
                    <h2 data-i18n="join.title">Unirse</h2>
                    <p class="subtitle" data-i18n="join.subtitle">Ingresa el codigo de la sala</p>
                    <div class="input-group">
                        <label data-i18n="label.name">Tu nombre</label>
                        <input type="text" id="joinNameInput" placeholder="Ingresa tu nombre"
                            data-i18n="placeholder.name" maxlength="15" autocomplete="off">
                    </div>
                    <div class="input-group">
                        <label data-i18n="label.code">Codigo de sala</label>
                        <input type="text" id="roomCodeInput" placeholder="ABC123" data-i18n="placeholder.code"
                            maxlength="6" autocomplete="off" style="text-transform:uppercase">
                    </div>
                    <button class="btn btn-primary" onclick="joinRoom()" data-i18n="btn.join_action">Unirse</button>
                    <div class="btn-row">
                        <button class="btn btn-ghost" onclick="showHomeScreen()" data-i18n="btn.back">Volver</button>
                    </div>
                </div>

                <!-- LOBBY - HOST SCREEN -->
                <div id="lobbyHostScreen" class="screen">
                    <div class="lobby-grid">
                        <div class="main-column">
                            <div class="room-code-box" onclick="copyRoomCode()">
                                <div class="room-code-label" data-i18n="lobby.code_label">Codigo de sala</div>
                                <div class="room-code" id="roomCodeDisplay"></div>
                                <div class="room-code-hint" data-i18n="lobby.code_hint">Toca para copiar</div>
                            </div>
                            <button class="btn btn-secondary full-width" onclick="shareRoom()" data-i18n="lobby.invite"
                                style="margin-bottom: 1rem;">
                                Invitar Amigos
                            </button>
                            <div class="card">
                                <div class="card-head">
                                    <h3 data-i18n="lobby.players_title">Jugadores</h3>
                                    <span class="count"><span id="playerCount">1</span>/8</span>
                                </div>
                                <div class="player-list" id="playerListHost"></div>
                            </div>
                            <div class="card">
                                <h3 data-i18n="lobby.config_title">Configuracion</h3>
                                <div class="config-row">
                                    <div class="input-group" style="margin-bottom:0">
                                        <label data-i18n="lobby.category_label">Categoria</label>
                                        <select id="categorySelect" onchange="updateConfig()"></select>
                                    </div>
                                    <div class="input-group" style="margin-bottom:0">
                                        <label data-i18n="lobby.impostor_label">Impostores</label>
                                        <select id="impostorCountSelect" onchange="updateConfig()">
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                        </select>
                                    </div>
                                </div>
                                <button class="btn random-btn" onclick="randomCategory()"
                                    data-i18n="btn.random_category">Categoria aleatoria</button>
                            </div>
                            <button class="btn btn-primary" id="startButton" onclick="startGame()" disabled
                                data-i18n="btn.start">Iniciar
                                partida</button>
                            <p class="hint" data-i18n="lobby.min_players">Minimo 4 jugadores</p>
                        </div>

                        <div class="side-column">
                            <div class="card full-height">
                                <h3 data-i18n="lobby.ranking_title">Ranking de Sala</h3>
                                <div class="leaderboard-container">
                                    <table class="stats-table small-table">
                                        <thead>
                                            <tr>
                                                <th data-i18n="table.player">Jugador</th>
                                                <th title="Partidas Jugadas" data-i18n="table.played">Jugadas</th>
                                                <th title="Votos Correctos" data-i18n="table.correct">Aciertos</th>
                                                <th title="Victorias como Impostor" data-i18n="table.impostor">Impostor
                                                </th>
                                                <th title="Victorias como Inocente" data-i18n="table.innocent">Inocente
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody id="roomStatsBodyHost">
                                            <tr>
                                                <td colspan="5" class="waiting-text" data-i18n="table.waiting">Esperando
                                                    datos...</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- LOBBY - PLAYER SCREEN -->
                <div id="lobbyPlayerScreen" class="screen">
                    <div class="lobby-grid">
                        <div class="main-column">
                            <div class="room-code-box" onclick="copyRoomCode()">
                                <div class="room-code-label" data-i18n="lobby.code_label">Codigo de sala</div>
                                <div class="room-code" id="roomCodePlayer"></div>
                                <div class="room-code-hint" data-i18n="lobby.code_hint">Toca para copiar</div>
                            </div>
                            <div class="card">
                                <div class="card-head">
                                    <h3 data-i18n="lobby.players_title">Jugadores</h3>
                                    <span class="count"><span id="playerCountPlayer">1</span>/8</span>
                                </div>
                                <div class="player-list" id="playerListPlayer"></div>
                            </div>
                            <div class="card">
                                <p class="waiting" data-i18n="lobby.waiting_host">Esperando al host...</p>
                            </div>
                        </div>

                        <div class="side-column">
                            <div class="card full-height">
                                <h3>🏆 Ranking de Sala</h3>
                                <div class="leaderboard-container">
                                    <table class="stats-table small-table">
                                        <thead>
                                            <tr>
                                                <th data-i18n="table.player">Jugador</th>
                                                <th title="Partidas Jugadas" data-i18n="table.played"
                                                    data-i18n-title="tooltip.played">Jugadas</th>
                                                <th title="Votos Correctos" data-i18n="table.correct"
                                                    data-i18n-title="tooltip.correct">Aciertos</th>
                                                <th title="Victorias como Impostor" data-i18n="table.impostor"
                                                    data-i18n-title="tooltip.impostor">Impostor
                                                </th>
                                                <th title="Victorias como Inocente" data-i18n="table.innocent"
                                                    data-i18n-title="tooltip.innocent">Inocente
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody id="roomStatsBodyPlayer">
                                            <tr>
                                                <td colspan="5" class="waiting-text">Esperando datos...</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ROLE REVEAL SCREEN -->
                <div id="roleScreen" class="screen">
                    <div id="roleCard" class="role-card innocent">
                        <div class="role-label">Tu rol</div>
                        <div class="role-title" id="roleTitle">Inocente</div>
                        <div class="word-display" id="wordDisplay"></div>
                        <p class="role-hint" id="roleHint"></p>
                        <p class="category-tag" id="categoryTag"></p>
                    </div>

                    <div class="turn-order-card" style="margin-bottom: 1rem;">
                        <h4>Orden de Turno</h4>
                        <div id="roleScreenOrder" class="turn-order-list"></div>
                    </div>

                    <div class="role-actions">
                        <button class="btn btn-primary" id="readyButton" onclick="startVoting()"
                            style="display:none">Iniciar votacion</button>
                        <button class="btn btn-danger btn-sm" id="cancelGameRoleBtn" onclick="cancelGame()"
                            style="display:none" title="Volver al lobby">⬅ Cancelar partida</button>
                    </div>
                    <p id="waitingMessage" class="waiting">Esperando al host...</p>
                </div>

                <!-- SPECTATOR SCREEN -->
                <div id="spectatorScreen" class="screen">
                    <h2>Espectador</h2>
                    <p class="subtitle">Código de sala: <strong id="roomCodeSpectator"></strong></p>
                    <div class="card">
                        <h3>Observando...</h3>
                        <p class="waiting">Estás viendo la partida como espectador</p>
                    </div>
                    <button class="btn btn-ghost" onclick="location.reload()">Salir</button>
                </div>

                <!-- VOTING SCREEN -->
                <div id="votingScreen" class="screen">
                    <!-- Panel de jugadores en vivo -->
                    <div id="livePlayersPanelVoting" class="live-players-panel">
                        <div class="live-players-header" data-i18n="game.live_players">Jugadores en Vivo</div>
                        <div id="livePlayersListVoting" class="live-players-list"></div>
                    </div>

                    <h2 data-i18n="voting.title">Votación</h2>
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div style="font-size: 24px; font-weight: bold;" id="votingTimer">0:00</div>
                        <p class="voting-timer-label" data-i18n="voting.timer_label">Tiempo transcurrido</p>
                    </div>
                    <div style="text-align: center; margin-bottom: 15px;">
                        <strong data-i18n="voting.order_label">Orden:</strong>
                        <div id="descriptionOrderDisplay" style="margin-top: 8px; font-size: 12px;"></div>
                    </div>
                    <div class="emoji-reactions" style="text-align: center; margin-bottom: 20px;">
                        <button class="emoji-btn" onclick="sendReaction('💀')">💀</button>
                        <button class="emoji-btn" onclick="sendReaction('🤡')">🤡</button>
                        <button class="emoji-btn" onclick="sendReaction('🔫')">🔫</button>
                        <button class="emoji-btn" onclick="sendReaction('💩')">💩</button>
                        <button class="emoji-btn" onclick="sendReaction('🚩')">🚩</button>
                        <button class="emoji-btn" onclick="sendReaction('📸')">📸</button>
                    </div>
                    <p class="subtitle" data-i18n="voting.choose_label">Elige a quien eliminar</p>
                    <div class="voting-status" id="votingStatus">
                        <div class="voting-label" data-i18n="voting.turn_label">Turno de votar</div>
                        <div class="voting-text" id="currentVoterDisplay"></div>
                    </div>
                    <div class="card">
                        <h3 data-i18n="voting.votes_title">Votos</h3>
                        <div class="votes-log" id="votesDisplay"></div>
                    </div>
                    <div id="votingButtons"></div>
                    <!-- <button class="btn btn-primary" id="finishVotingBtn" onclick="finishVoting()"
                        style="display: none; margin-top: 20px;">Terminar Votación</button> -->
                </div>

                <!-- ELIMINATION SCREEN -->
                <div id="eliminationScreen" class="screen">
                    <div class="result-banner eliminated">
                        <h2 id="eliminatedName"></h2>
                        <p class="result-sub" id="eliminatedRole"></p>
                    </div>
                    <button class="btn btn-primary" onclick="continueGame()"
                        data-i18n="elimination.continue">Continuar</button>
                </div>

                <!-- GAME SCREEN -->
                <div id="gameScreen" class="screen">
                    <!-- Panel de jugadores en vivo -->
                    <div id="livePlayersPanel" class="live-players-panel">
                        <div class="live-players-header" data-i18n="game.live_players">Jugadores en Vivo</div>
                        <div id="livePlayersList" class="live-players-list"></div>
                    </div>

                    <div id="roleCardGame" class="role-card innocent">
                        <div class="role-label" data-i18n="role.label">Tu rol</div>
                        <div class="role-title" id="roleTitleGame" data-i18n="role.innocent">Inocente</div>
                        <div class="word-display" id="wordDisplayGame"></div>
                        <p class="role-hint" id="roleHintGame"></p>
                    </div>
                    <div class="round-badge"><span data-i18n="game.round">Ronda</span> <strong
                            id="roundNumber">1</strong></div>

                    <!-- Turn Order Display -->
                    <div class="turn-order-card">
                        <h4 data-i18n="role.turn_order">Orden de Turno</h4>
                        <div id="gameScreenOrder" class="turn-order-list"></div>
                    </div>

                    <div class="game-actions">
                        <button class="btn btn-primary" id="startVotingBtn" onclick="startVoting()" style="display:none"
                            data-i18n="btn.start_voting">Iniciar votacion</button>
                        <button class="btn btn-danger btn-sm" id="cancelGameBtn" onclick="cancelGame()"
                            style="display:none" title="Volver al lobby" data-i18n="btn.cancel">⬅ Cancelar
                            partida</button>
                    </div>
                    <p id="waitingVoteMessage" class="waiting" data-i18n="role.waiting_host">Esperando al host...</p>
                </div>

                <!-- END SCREEN -->
                <div id="endScreen" class="screen">
                    <div class="result-banner" id="winnerBanner">
                        <h2 id="winnerTitle"></h2>
                        <p class="result-sub" id="winnerMessage"></p>
                    </div>
                    <div class="word-reveal">
                        <div class="word-reveal-label" data-i18n="end.revealed_label">La palabra era</div>
                        <div class="word-reveal-word" id="revealedWord"></div>
                    </div>
                    <div class="card">
                        <h3 data-i18n="end.roles_title">Roles revelados</h3>
                        <div id="finalPlayerList"></div>
                    </div>
                    <div class="button-group">
                        <button class="btn btn-primary" onclick="continueInRoom()" id="continueButton"
                            style="display:none" data-i18n="btn.continue_room">Continuar en la sala</button>
                        <button class="btn btn-secondary" onclick="resetGame()" id="resetButton" style="display:none"
                            data-i18n="btn.back_lobby">Volver al lobby</button>
                        <button class="btn btn-secondary" onclick="location.reload()"
                            data-i18n="btn.exit">Salir</button>
                    </div>
                </div>

            </div>
        </main>

        <!-- Panel Global de Jugadores en Vivo (persistente durante el juego) -->
        <div id="globalLivePlayersPanel" class="live-players-panel" style="display: none;">
            <div class="live-players-header">Jugadores en Vivo</div>
            <div id="globalLivePlayersList" class="live-players-list"></div>
        </div>

        <aside id="chatContainer" class="chat-container" style="display: none;">
            <div class="chat-header">
                <h3>Chat de Sala</h3>
                <button class="chat-toggle-btn" onclick="toggleChat()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div id="chatMessages" class="chat-messages">
                <!-- Messages will appear here -->
                <div class="chat-system-msg">Bienvenido al chat!</div>
            </div>
            <form id="chatForm" onsubmit="sendChat(event)">
                <input type="text" id="chatInput" placeholder="Escribe un mensaje..." maxlength="100"
                    autocomplete="off">
                <button type="submit" class="btn-chat-send">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                    </svg>
                </button>
            </form>
        </aside>
    </div>

    <div id="toastContainer"></div>

    <!-- Local Stats Modal -->
    <div id="localStatsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 data-i18n="stats.title">Mis Estadísticas</h2>
                <button class="close-modal" onclick="closeModal('localStatsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="stats-grid">
                    <div class="stat-card impostor">

                        <div class="stat-value" id="localImpWins">0</div>
                        <div class="stat-label" data-i18n="stats.imp_wins">Victorias Impostor</div>
                    </div>
                    <div class="stat-card survivor">

                        <div class="stat-value" id="localGames">0</div>
                        <div class="stat-label" data-i18n="stats.games">Partidas Jugadas</div>
                    </div>
                    <div class="stat-card innocent">

                        <div class="stat-value" id="localInnWins">0</div>
                        <div class="stat-label" data-i18n="stats.inn_wins">Victorias Inocente</div>
                    </div>
                    <div class="stat-card winrate">

                        <div class="stat-value" id="localWinRate">0%</div>
                        <div class="stat-label" data-i18n="stats.winrate">Win Rate</div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- How to Play Modal -->
    <div id="howToPlayModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 data-i18n="howto.title">📖 Cómo Jugar</h2>
                <button class="close-modal" onclick="closeModal('howToPlayModal')">&times;</button>
            </div>
            <div class="modal-body">
                <h3 data-i18n="howto.roles_title">👥 Roles</h3>
                <ul>
                    <li data-i18n="howto.innocent"><strong>Inocente:</strong> Recibe una palabra secreta. Debes
                        describirla sutilmente.</li>
                    <li data-i18n="howto.impostor"><strong>Impostor:</strong> NO recibe la palabra. Debe fingir que la
                        sabe y descubrirla.</li>
                </ul>
                <h3 data-i18n="howto.phase_title">🗣️ Fase de Descripción</h3>
                <p data-i18n="howto.phase_desc">Por turnos strictos, cada jugador dice <strong>UNA SOLA
                        PALABRA</strong>.</p>
                <div class="highlight-box"
                    style="background: var(--bg-2); padding: 10px; border-radius: 6px; margin-top: 10px;">
                    <div data-i18n="howto.example"><strong>Ejemplo:</strong> Palabra "Perro" -> Tu dices "Ladrido".
                    </div>
                </div>
                <h3 data-i18n="howto.voting_title">🗳️ Votación</h3>
                <p data-i18n="howto.voting_desc">Luego de la ronda de palabras, debaten y votan al sospechoso.</p>
            </div>
            <div class="modal-footer">
                <a href="/como-jugar" class="btn btn-secondary" data-i18n="howto.btn_full">Ver Tutorial Completo</a>
            </div>
        </div>
    </div>

    <!-- Rules Modal -->
    <div id="rulesModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 data-i18n="rules.title">📜 Reglas Básicas</h2>
                <button class="close-modal" onclick="closeModal('rulesModal')">&times;</button>
            </div>
            <div class="modal-body">
                <ul>
                    <li data-i18n="rules.list_1"><strong>Mínimo 4 jugadores</strong> para comenzar.</li>
                    <li data-i18n="rules.list_2"><strong>UNA palabra</strong> por turno. Nada de frases.</li>
                    <li data-i18n="rules.list_3">Se debe respetar el orden de turnos.</li>
                    <li data-i18n="rules.list_4">Prohibido decir la palabra secreta.</li>
                    <li data-i18n="rules.list_5">Gana la mayoría o el impostor si sobrevive.</li>
                </ul>
            </div>
            <div class="modal-footer">
                <a href="/reglas" class="btn btn-secondary" data-i18n="rules.btn_full">Ver Reglas Detalladas</a>
            </div>
        </div>
    </div>

    <!-- FAQ Modal -->
    <div id="faqModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 data-i18n="faq.title">❓ Preguntas Frecuentes</h2>
                <button class="close-modal" onclick="closeModal('faqModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="faq-item">
                    <strong data-i18n="faq.q1">¿Los impostores se conocen?</strong>
                    <p data-i18n="faq.a1">No, si hay más de uno, no saben quiénes son sus compañeros.</p>
                </div>
                <div class="faq-item">
                    <strong data-i18n="faq.q2">¿Qué pasa si me desconecto?</strong>
                    <p data-i18n="faq.a2">Puedes volver a entrar con el mismo nombre y recuperarás tu rol.</p>
                </div>
                <div class="faq-item">
                    <strong data-i18n="faq.q3">¿Cómo gano puntos?</strong>
                    <p data-i18n="faq.a3">Ganando partidas y votando correctamente al impostor.</p>
                </div>
            </div>
            <div class="modal-footer">
                <a href="/faq" class="btn btn-secondary" data-i18n="faq.btn_full">Ver Todas las FAQ</a>
            </div>
        </div>
    </div>


    <!-- Footer con Cafecito -->
    <footer class="site-footer">
        <p>
            <span data-i18n="footer.like">¿Te gusta El Impostor?</span>
            <a href="https://cafecito.app/houzzyp" target="_blank" rel="noopener" class="cafecito-link">
                ☕ <span data-i18n="footer.coffee">Invitame un cafecito</span>
            </a>
        </p>
        <p class="footer-credits" data-i18n="footer.credits">Hecho con 💜 en Argentina</p>
        <p class="footer-links" style="margin-top: 0.5rem; font-size: 0.85rem;">
            <a href="/privacidad" target="_blank" rel="noopener"
                style="color: var(--text-muted); text-decoration: none; margin: 0 0.5rem;">Privacidad</a>
            <span style="color: var(--text-muted);">·</span>
            <a href="/privacidad#cookies" target="_blank" rel="noopener"
                style="color: var(--text-muted); text-decoration: none; margin: 0 0.5rem;">Cookies</a>
            <span style="color: var(--text-muted);">·</span>
            <a href="javascript:void(0)" onclick="if(window.ImpostorCookieConsent)window.ImpostorCookieConsent.reset()"
                style="color: var(--text-muted); text-decoration: none; margin: 0 0.5rem;">Gestionar Cookies</a>
        </p>

        <!-- SEO Content (hidden visually but indexed by search engines) -->
        <div style="position: absolute; left: -9999px; width: 1px; height: 1px; overflow: hidden;">
            <h2>Jugar al Impostor Online Gratis - Juego del Mentiroso Multijugador</h2>
            <p>El Impostor es un juego de deducción social online gratis, similar a Spyfall en español. Juega con amigos
                sin descargas, perfecto para videollamadas. Cada jugador recibe una palabra secreta, excepto el impostor
                (mentiroso). Describe la palabra sin revelarla y vota para eliminar al impostor antes de que descubra la
                palabra. Juego multijugador de 3 a 20 jugadores, ideal para fiestas online, reuniones virtuales o jugar
                con amigos a distancia. Party game en español sin registro.</p>
            <p>Keywords: jugar al impostor online, el impostor juego online gratis, juego del mentiroso online, spyfall
                español, juego de palabras con amigos, juego de deduccion social, among us con palabras, juego impostor
                navegador, juego multijugador sin descarga, party game online español, juego para videollamada, juego de
                rol social, detective juego online, mentiroso multiplayer.</p>
        </div>
    </footer>

    <!-- Cookie Consent Banner (GDPR/Privacy Compliance) -->
    <script src="js/cookie-consent.js"></script>

    <script type="module" src="js/main.js?v=6"></script>
</body>

</html>